:::tip
图这章跟代码相关的内容不多，更多的是理解图的基本概念，以及对图的操作和算法思想，计算方向更关注在手算模拟。
:::

考纲：

- 图的基本概念
- 图的存储和基本操作
	- 邻接矩阵、邻接表、邻接多重表、十字链表
- 图的遍历
	- DFS、BFS
- 图的应用
	- 最小(代价)生成树
		- Prim
		- Kruskal
	- 最短路径
		- Dijkstra
		- Floyd
	- 拓扑排序
		- AOV 
	- 关键路径
		- AOE 

# 1.图基本概念
**一个图G由顶点集合和边集合组成，边表示的是顶点与顶点之间的联系，|V|和|E|分别表示的是顶点个数和边的个数。**

## 1.1有向图
简而言之就是边是有方向的G。

对于有向图而言有**强连通、强连通图、强连通分量**这些概念：

1. 强连通：有向图中，顶点v和w中，从v到w之间都有路径，那么两个顶点就是强连通
2. 强连通图：任意一对顶点都满足强连通，那么此图就是强连通图
3. 强连通分量：极大强连通子图

## 1.2无向图
边没有方向的图G。

类似于有向图，有**连通、连通图、连通分量**这几个概念

1. 连通：顶点v和w中，从v到w之间都有路径，那么两个顶点就是连通
2. 连通图：任意一对顶点都满足连通，那么此图就是连通图
3. 极大连通子图

## 1.3简单图、多重图

1. 简单图：满足两个条件：**不存在重复边**和**不存在顶点到自身的边(自环)**
2. 多重图：数据结构不讨论

## 1.4完全图(简单完全图)

对于**无向图**而言：有$n*(n-1)/2$条边的无向图就是完全图，全图任意两个顶点之间都存在边。对于**有向图**：边的值为$n*(n-1)$，在有向图中任意两个顶点之间都存在方向相反的两条弧。

## 1.5子图
设两个图$G=(V,E)$和$G_1=(V_1,E_1)$其中$E_1和V_1$分别是$V和E$的子集，那么$G_1是G的子图$，当$V(G) = V(G_1)$那么$G_1就是G的生成子图$。 

其中注意不是V和E的任意子集都能构成子图，假设：E的子集中某些边关联的顶点不在V中的时候，构不成一个图。

## 1.6生成树、生成森林
**生成树**：一个连通图包含了所有顶点的极小连通子图，若顶点数为n，那么边数就是n-1。

**生成森林**：非连通图中，连通分量的生成树构成了非连通图的生成森林。

## 1.7度
**无向图**：对于一个有n个顶点、e条边的无向图，$\sum_1^nTD(V_i) = 2e$，无向图的全部顶点的度等于边数的两倍。

**有向图**：有向图分为入度和出度，入度是以顶点v为终点的有向边数目，出度就是以顶点v为起点的有向边数目，其中$TD(v) = ID(v)+OD(v)$，所有的出度等于入度，其中$\sum_1^nID(V_i) = \sum_1^nOD(V_i)=e$，即有向图的出度之和等于入度之和等于边数。

## 1.8 简单路径、简单回路
**简单路径**：路径序列中顶点不重复出现。

**简单回路**：除第一个顶点和最后一个顶点不重复出现的回路。

# 2.图的存储
:::tip 图的存储基本上就两种，一种是邻接矩阵一种是邻接表
:::
## 2.1邻接矩阵
邻接矩阵是采用二维数组的存储方式来存储图，为v行v列的矩阵，其中若$v_i到v_j有路径，则A[i][j]为1，或者是对应的路径权值$。
$$
\begin{aligned}
	&当(v_i,v_j)是G的边，则a[i][j] = 1 \\
	&否则a[i][j] = 0或无穷 \\
\end{aligned}
$$
如下，给出一个矩阵：
$$\begin{bmatrix}
0 & 1 & 1& 0  \\
0 & 0 & 0 &0 \\
0 & 0 & 0 &1 \\
1 & 0 & 0 &0 \\
\end{bmatrix}$$
其中当图是无向图的时候，矩阵是对称的。有向图则不一定，有向图中，**行代表顶点的出，列代表顶点的入**，比如上述矩阵，顶点$v_1$有指向$v_2和v_3$的两条边，而又有$v_4指向v_1$的一条边。

**空间复杂度**：显而易见空间复杂度跟顶点个数有关，为$O(n^2)$

对于$A^n$的元素$A^n[i][j]$表示的是由顶点i到j长度为n的路径有多少条。**该结论了解即可**

邻接矩阵适用于存储相对稠密的图。

## 2.2 邻接表法
结合顺序存储和链式存储的方法构建邻接表存储顶点和边集的关系。
在逻辑上呈现如下的形式：
![图1]()

设计顶点表结点和边表结点来存储。顶点表节点由顶点域和指向第一条邻接边的指针构成，包含(顶点域data，边表头指针firstarc)。边表结点由邻接点域和指向下一跳邻接边的指针构成，包含(邻接点域adjvex，指针域nextarc)。

**空间复杂度**：空间复杂度跟顶点个数和边数有关，若为有向图则$O(|V|+|E|)$若为无向图则$O(|V|+2|E|)$。

## 2.3邻接表和邻接矩阵的比较
![图2]()

# 3.图的遍历
## 3.1BFS
广度优先搜索遍历是在各种算法中广泛应用的一种优先遍历算法。顾名思义，广度优先，就是往宽了去搜索，再搜索下一层，在树中，BFS就是层序遍历的，具体思想如下：

1. 若树非空，根节点入队
2. 若队列非空，队头元素出队并且访问，同时将其孩子入队
3. 重复2直到队列为空为止

树的BFS借助了队列的帮助，与此同时因为树中不存在回路，搜索到相邻节点的时候不可能搜索到已经访问到的节点。

在图中，广度优先搜索会面临一个问题就是图若存在回路，会重复访问到已经访问过的结点，从而带来不必要的时间开销，此处需要设计一个辅助数组来标记是否被访问过，其余的思想与树的层次遍历思想大致相同，从一个节点开始，访问其邻接点，依次进行。具体思想如下：

1. 从起始节点开始找到与顶点相邻的所有顶点(过程会有入队和出队操作)
2. 辅助数组标记
3. 循环递归
4. 需要借助辅助队列